# 吸血鬼数字算法    

 所谓“吸血鬼数字”就是指位数为偶数的数字(我们算得是4位的)，可以由一对数字相乘而得到，而这对数字各包含乘积的一半位数字，其中从偶数位数字中选取的数字可以任意排列。    以两个0截尾的数字是不允许的。例如：1260=21*60 1827=21*``87 2187=27*81    

## 解法 1
- 基本解法
```java
 class Main {
    public static void main(String args[]) {
        int num=0;//用来测出代码执行的次数
        for (int i = 10; i < 100; i++) {
            for (int j = i + 1; j < 100; j++) {   //j=i+1避免重复
                int val = i * j;
                if (val > 1000&val < 10000 && val % 1000 != 0) {
                  num++;
                    //将数字转换为String数组，方便后面进行排序
                    String[] str1=new String("" +i+ j).split("");
                    String[] str2=new String("" + val).split("");
                    Arrays.sort(str1);
                    Arrays.sort(str2);
                    //排序后如果相等，说明i和j是val中的数
                    if (Arrays.equals(str1, str2)) {
                        System.out.println(val +"="+i+"*"+ j);
                    }
                }
            }
        }
        System.out.println(num);
    }
}
/*
1395=15*93
1260=21*60
1827=21*87
2187=27*81
1530=30*51
1435=35*41
6880=80*86
3263
*/
```

## 解法2 
- 相对解法一提升
```java
class aaa{
    public static void main(String[] args) {
        int num=0;//用来测出代码执行的次数
        for (int i = 10; i < 100; i++) {
            for (int j = i + 1; j < 100; j++) {   //j=i+1避免重复
                int val = i * j;
                //(val - i - j) % 9 == 0
                if (val > 1000&val < 10000 && val % 1000 != 0&&(val - i - j) % 9 == 0) {
                    num++;
                    //将数字转换为String数组，方便后面进行排序
                    String[] str1=new String("" +i+ j).split("");
                    String[] str2=new String("" + val).split("");
                    Arrays.sort(str1);
                    Arrays.sort(str2);
                    //排序后如果相等，说明i和j是val中的数
                    if (Arrays.equals(str1, str2)) {
                        System.out.println(val +"="+i+"*"+ j);
                    }
                }
            }
        }
        System.out.println(num);
    }
}
```

## 解法3
- 个人认为最优解法
```java
class A{
    public static void main(String[] args) {
        long t1 = System.currentTimeMillis();
        for (int i = 1001; i < 10000; i++){
         
            xxg(i);
        }
        System.out.println(System.currentTimeMillis() - t1);
    }
    public static  void xxg(int n){
        int a,b,c,d;

        //获取该四位数的各位数字
        a=n/1000;
        b=n%1000/100;
        c=n%100/10;
        d=n%10;

        if(n==(a*10+b)*(c*10+d)) {System.out.printf("%d = %d * %d\n",n,(a*10+b),(c*10+d));return;}
        if(n==(a*10+b)*(d*10+c)) {System.out.printf("%d = %d * %d\n",n,(a*10+b),(d*10+c));return;}
        if(n==(a*10+c)*(b*10+d)) {System.out.printf("%d = %d * %d\n",n,(a*10+c),(b*10+d));return;}
        if(n==(a*10+c)*(d*10+b)){ System.out.printf("%d = %d * %d\n",n,(a*10+c),(d*10+b));return;}
        if(n==(a*10+d)*(b*10+c)){ System.out.printf("%d = %d * %d\n",n,(a*10+d),(b*10+c));return;}
        if(n==(a*10+d)*(c*10+b)) {System.out.printf("%d = %d * %d\n",n,(a*10+d),(c*10+b));return;}

        if(n==(b*10+a)*(c*10+d)) {System.out.printf("%d = %d * %d\n",n,(b*10+a),(c*10+d));return;}
        if(n==(b*10+a)*(d*10+c)) {System.out.printf("%d = %d * %d\n",n,(b*10+a),(d*10+c));return;}
        if(n==(b*10+c)*(a*10+d)){ System.out.printf("%d = %d * %d\n",n,(b*10+c),(a*10+d));return;}
        if(n==(b*10+c)*(d*10+a)) {System.out.printf("%d = %d * %d\n",n,(b*10+c),(d*10+a));return;}
        if(n==(b*10+d)*(a*10+c)){ System.out.printf("%d = %d * %d\n",n,(b*10+d),(a*10+c));return;}
        if(n==(b*10+d)*(c*10+a)){ System.out.printf("%d = %d * %d\n",n,(b*10+d),(c*10+a));return;}

        if(n==(c*10+b)*(a*10+d)){ System.out.printf("%d = %d * %d\n",n,(c*10+b),(a*10+d));return;}
        if(n==(c*10+b)*(d*10+a)) {System.out.printf("%d = %d * %d\n",n,(c*10+b),(d*10+a));return;}
        if(n==(c*10+a)*(b*10+d)){ System.out.printf("%d = %d * %d\n",n,(c*10+a),(b*10+d));return;}
        if(n==(c*10+a)*(d*10+b)){ System.out.printf("%d = %d * %d\n",n,(c*10+a),(d*10+b));return;}
        if(n==(c*10+d)*(b*10+a)) {System.out.printf("%d = %d * %d\n",n,(c*10+d),(b*10+a));return;}
        if(n==(c*10+d)*(a*10+b)) {System.out.printf("%d = %d * %d\n",n,(c*10+d),(a*10+b));return;}

        if(n==(d*10+b)*(c*10+a)){ System.out.printf("%d = %d * %d\n",n,(d*10+b),(c*10+a));return;}
        if(n==(d*10+b)*(a*10+c)){ System.out.printf("%d = %d * %d\n",n,(d*10+b),(a*10+c));return;}
        if(n==(d*10+c)*(b*10+a)){ System.out.printf("%d = %d * %d\n",n,(d*10+c),(b*10+a));return;}
        if(n==(d*10+c)*(a*10+b)){ System.out.printf("%d = %d * %d\n",n,(d*10+c),(a*10+b));return;}
        if(n==(d*10+a)*(b*10+c)){ System.out.printf("%d = %d * %d\n",n,(d*10+a),(b*10+c));return;}
        if(n==(d*10+a)*(c*10+b)){ System.out.printf("%d = %d * %d\n",n,(d*10+a),(c*10+b));return;}
    }
}//28
```

## 解法4
- 用到了递归 
```java
class Main1 {
    private static int lastNumber = 0;
    private void magicNumber() {
        int[] nums = new int[4];
        for (int i = 1000; i < 10000; i++) {
            // 要求不能以00结尾
            if (i % 100 == 0 ) {
                continue;
            }
            // 把数字拆分到数组里好麻烦
            int t = i;
            nums[0] = t / 1000;
            t %= 1000;
            nums[1] = t / 100;
            t %= 100;
            nums[2] = t / 10;
            nums[3] = t % 10;
            isMagic(i, nums, 0);
        }
    }

    private void isMagic(int number, int[] nums, int index) {
        int a, b;
        for (int i = index; i < nums.length; i++) {
            // 交换数字
            int t = nums[index];
            nums[index] = nums[i];
            nums[i] = t;
            // 求出对应的数字
            a = nums[0] * 10 + nums[1];
            b = nums[2] * 10 + nums[3];
            if (a * b == number) {
                // 重复就停止
                if (number == lastNumber) {
                    break;
                }
                System.out.println(a + " * " + b + " = " + number);
                lastNumber = number;
            }
            isMagic(number, nums, index + 1);
            t = nums[index];
            nums[index] = nums[i];
            nums[i] = t;
        }
    }
    // 1260 1395 1435 1530 1827 2187 6880
    public static void main(String[] args) {
        // 计算时间
        long t1 = System.currentTimeMillis();
        Main1 main = new Main1();
        main.magicNumber();
        System.out.println(System.currentTimeMillis() - t1);
    }
}//34
```
